"use strict";

var create = require("./index.js");
var client = create("https://storage.perry.cx/remote.php/webdav", "pez", "a2IiLV_ouTZIDt8k8PV-jQNL");

client.getDirectoryContents("/Auth/Home VPN").then(function (contents) {
    console.log("C", contents.map(function (item) {
        return item.filename;
    }));
});

// function streamToBuffer(stream) {
//     var buffs = [];
//     return new Promise(function(resolve) {
//         stream.on("data", function(d) { buffs.push(d); });
//         stream.on("end", function() {
//             resolve(Buffer.concat(buffs));
//         });
//     });
// }

// const s = client.createReadStream("/Temp/apps.png", { range: { start: 0, end: 499 } });

// streamToBuffer(s).then(function(buff) {
//     console.log("buff", buff.length);
// });

// client.getQuota().then(quota => console.log(quota));

// client.stat("/Temp/apps.png").then(stat => console.log(stat));